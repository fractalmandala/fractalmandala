<script lang="ts">

	import { readingMode } from '$lib/stores/globalstores'
	import { browser } from '$app/environment';

	function toggleReading() {
		if (browser) {
			readingMode.update((mode) => {
				const newMode = !mode;
				localStorage.setItem('readingMode', JSON.stringify(newMode));
				return newMode;
			});
		}
	}

</script>

<button class="blank-button rta-icon rta-row ycenter" on:click={toggleReading}>	
	<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M15.9987 26.667C14.932 25.8225 13.7765 25.167 12.532 24.7003C11.2876 24.2337 9.9987 24.0003 8.66536 24.0003C7.73203 24.0003 6.81536 24.1225 5.91536 24.367C5.01536 24.6114 4.15425 24.9559 3.33203 25.4003C2.86536 25.6448 2.41536 25.6337 1.98203 25.367C1.5487 25.1003 1.33203 24.7114 1.33203 24.2003V8.13366C1.33203 7.88921 1.39314 7.65588 1.51536 7.43366C1.63759 7.21144 1.82092 7.04477 2.06536 6.93366C3.08759 6.40033 4.15425 6.00033 5.26536 5.73366C6.37648 5.46699 7.50981 5.33366 8.66536 5.33366C9.95425 5.33366 11.2154 5.50033 12.4487 5.83366C13.682 6.16699 14.8654 6.66699 15.9987 7.33366V24.2003C17.132 23.467 18.3209 22.917 19.5654 22.5503C20.8098 22.1837 22.0654 22.0003 23.332 22.0003C24.132 22.0003 25.0043 22.0781 25.9487 22.2337C26.8931 22.3892 27.7987 22.7114 28.6654 23.2003V6.36699C28.8876 6.45588 29.1043 6.54477 29.3154 6.63366C29.5265 6.72255 29.732 6.82255 29.932 6.93366C30.1543 7.06699 30.332 7.23921 30.4654 7.45033C30.5987 7.66144 30.6654 7.88921 30.6654 8.13366V24.2003C30.6654 24.7114 30.4487 25.1003 30.0154 25.367C29.582 25.6337 29.132 25.6448 28.6654 25.4003C27.8431 24.9559 26.982 24.6114 26.082 24.367C25.182 24.1225 24.2654 24.0003 23.332 24.0003C21.9987 24.0003 20.7098 24.2337 19.4654 24.7003C18.2209 25.167 17.0654 25.8225 15.9987 26.667ZM17.9987 21.1003V9.33366L26.6654 0.666992V13.567L17.9987 21.1003Z" fill="#474747"/>
	</svg>
</button>

<style lang="sass">

.rta-icon
	cursor: pointer
	svg
		height: 24px
		object-fit: contain
		transition: 0.13s
		transform-origin: center center
	&:hover
		svg path
			fill: #10D56C
		svg
			transform: scale(0.88)

</style>